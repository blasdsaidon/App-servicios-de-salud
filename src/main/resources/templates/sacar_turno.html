<!DOCTYPE html>
<html
    lang="es"
    xmlns:th="http://www.thymeleaf.org"
    xlmns:sec="http://www.thymeleaf.org/extras/spring-security"
    >
    
    <head>
        <meta charset="utf-8" />
        <title>Turnos</title>
        <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css"
            rel="stylesheet"
            integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor"
            crossorigin="anonymous"
            />
        <link href="/style/style.css" rel="stylesheet" />
    </head>

    <body>
        <div class="form-registro">
            <div class="form-group my-3">
                <h3 class="card-title">Turnos</h3>
            </div>
            
            <div class="mb-3">
                <label class="form-label" for="profesional" >Especialidad:</label>
                <select onchange="listasProfesionales()" required id="profesionales" class="form-select" name="profesionales">
                    <option>Seleccione Especialidad:</option>
                    <option th:value="${ListaMedicosGinecologos}"th:text="Ginecólogo"></option>
                    <option th:value="${ListaMedicosClinicos}" th:text="Clínico"></option>
                    <option th:value="${ListaMedicosCardiologos}"th:text="Cardiólogo"></option>
                    <option th:value="${ListaMedicosPediatras}" th:text="Pediatra"></option>
                </select>
            </div>

            <div class="mb-3">
                <label for="profesional" class="form-label">Profesional:</label>
                <select required id="especialistas" class="form-select"></select>
            </div>

            <div class="d-flex justify-content-between">
                <a th:href="@{/}" class="btn btn-secondary">Volver</a> 
            </div>

            <script>
                function listasProfesionales() {
                var profesionalesSelect = document.getElementById("profesionales");
                var especialistasSelect = document.getElementById("especialistas");

                especialistasSelect.innerHTML = "<option>Seleccione Profesional:</option>";

                var selectedProfesional = profesionalesSelect.value
                .replace(/\[|\]/g, "")
                .split(", ");
                selectedProfesional.forEach(function (option) {
                var optionElement = document.createElement("option");
                optionElement.text = option;
                especialistasSelect.add(optionElement);
                });
                }
            </script>
        </div>

        <div th:replace="/fragments/footer :: div"></div>
        <div th:replace="/fragments/javaScript :: script"></div>
    </body>
</html>